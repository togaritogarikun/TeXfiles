%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                                                  %
%    jsplusmr.sty                                  %
%    jsbook.cls の追加スタイル                     %
%                                                  %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% \maketitle --- 修士/博士論文等
\newcommand*{\reporttype}[1]{\def\@reporttype{#1}}
\newcommand*{\univdept}[1]{\def\@univdept{#1}}
\newcommand*{\majorin}[1]{\def\@majorin{#1}}
%%%
\renewcommand{\maketitle}{%
  \begin{titlepage}%
    \let\footnotesize\small
    \let\footnoterule\relax
    \let\footnote\thanks
    \null\vfil
%    \vskip 60\p@
    \begin{center}%
      {\large \@reporttype \par}%
      \vskip 5em%
%      {\Huge \textbf \@title \par}%
      {\fontsize{24pt}{1.2cm}\selectfont \textbf \@title \par}%
      \vskip 12em%
      {\large \@majorin \par}%
      \vskip 4em%
      {\large \@univdept \par}%
      \vskip 2em%
      {\huge
        \lineskip .75em
        \begin{tabular}[t]{c}%
          \@author
        \end{tabular}\par}%
      \vskip 5em
      {\large \@date \par}%
    \end{center}\par
    \@thanks\vfil\null
  \end{titlepage}%
  \setcounter{footnote}{0}%
  \global\let\thanks\relax
  \global\let\maketitle\relax
  \global\let\@thanks\@empty
  \global\let\@author\@empty
  \global\let\@date\@empty
  \global\let\@title\@empty
  \global\let\@reporttype\@empty
  \global\let\@univdept\@empty
  \global\let\@majorin\@empty
  \global\let\title\relax
  \global\let\author\relax
  \global\let\date\relax
  \global\let\reporttype\relax
  \global\let\univdept\relax
  \global\let\majorin\relax
  \global\let\and\relax
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% 図・表のcaption 再定義
\long\def\@makecaption#1#2{{\small
  \advance\leftskip1cm
  \advance\rightskip1cm
  \vskip\abovecaptionskip
  \sbox\@tempboxa{#1 \hskip 0.75zw #2}%  コロンを取る
  \ifdim \wd\@tempboxa >\hsize
    #1: #2\par
  \else
    \global \@minipagefalse
    \hb@xt@\hsize{\hfil\box\@tempboxa\hfil}%
  \fi
  \vskip\belowcaptionskip}}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% スタイル切り替え命令 - 図表ページで別スタイルを取る場合は後で再定義
%%% 図表スタイルモード (空命令)
\newcommand{\figstyles}{}
%%% 通常スタイルモード (空命令)
\newcommand{\normalstyles}{}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% JBibTeX命令
%%% 松井　正一氏(JBibTeX作者)によるjbibtex.texより引用．
\newcommand{\JBibTeX}{\leavevmode\lower .5ex\hbox{{\rm J}}\kern-0.15em\BibTeX}
